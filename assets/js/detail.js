const dataProduct = [
  {
    id: 1,
    name: "Phấn Nước Che Phủ Mỏng Mịn, Kiềm Dầu Hiệu Qủa Gilaa Long Wear DD Cushion SPF50/PA+++",
    price: "300,000",
    description: "Phấn nước Gilla",
    image: "https://file.hstatic.net/1000006063/file/5396_afbcfc54116347b68c15cb288f5f0a94_2048x2048.jpg",
    category: "Electronics",
    rating: "4",
    category: [
      {
        id: "#F5E9CD",
        label: "01 LIGHT BEIGE",
      },
      {
        id: "#FFF5C2",
        label: "02 NATURAL BEIGE",
      },
    ],
    quantity: 693,
  },
  {
    id: 2,
    name: "Kem Nền Che Phủ Hoàn Hảo, Bền Màu Lâu Trôi Maybelline Super Stay 24H Full Coverage Foundation 30ml",
    price: "200,000",
    description: "Maybelline Super Stay",
    image: "https://product.hstatic.net/1000006063/product/320_1b8694c4fc3247acafc3f58237860923_1024x1024.jpg",
    category: "Electronics",
    rating: "4.5",
    category: [
      {
        id: "#F5E9CD",
        label: "01 LIGHT BEIGE",
      },
      {
        id: "#FFF5C2",
        label: "02 NATURAL BEIGE",
      },
    ],
    quantity: 620,
  },
  {
    id: 3,
    name: "Son Thỏi Lì, Lên Màu Chuẩn Lilybyred Mood Cinema Velvet Epilogue 3.5g",
    price: "150,000",
    description: "Son Lilybyred",
    image: "https://product.hstatic.net/1000006063/product/3568_3fd53dfe87e64feeb53a25a3e3f86990_1024x1024.jpg",
    category: "Electronics",
    rating: "3",
    category: [
      {
        id: "red",
        label: "01 LOST CHILI",
      },
      {
        id: "#990033",
        label: "02 PLOT BERRY",
      },
    ],
    quantity: 272,
  },
  {
    id: 4,
    name: "Bột Tán Chân Mày Hai Màu Đa Năng 16Brand Brow Magazine 3.6g",
    price: "215,000",
    description: "Bột Tán Chân Mày",
    image: "https://product.hstatic.net/1000006063/product/3645_6437133cae2b47acb743262c35f46b1d_1024x1024.jpg",
    category: "Electronics",
    rating: "4",
    category: [
      {
        id: "#993300",
        label: "ASH BROWN",
      },
      {
        id: "#660000",
        label: "COCO BROWN",
      },
    ],
    quantity: 6762,
  },
  {
    id: 5,
    name: "Chì Kẻ Mày Ngang Cho Chân Mày Sắc Nét, Lâu Trôi Romand Han All Flat Brow - Han All Line 0.17g",
    price: "129,000",
    description: "Chì kẻ mày",
    image: "https://product.hstatic.net/1000006063/product/0b1b3d8c9e1e7306123a7c17a7400e75_f59a72f2b7d54704ac939718407b9321.jpeg",
    category: "Electronics",
    rating: "3",
    category: [
      {
        id: "Black",
        label: "C1",
      },
      {
        id: "Brown",
        label: "C2",
      },
    ],
    quantity: 233,
  },
  {
    id: 6,
    name: "Sản phẩm 1",
    price: 100000,
    description: "Sản phẩm 1",
    image: "https://picsum.photos/200/300/?random=1",
    category: "Electronics",
    rating: "4.5",
    category: [
      {
        id: "red",
        label: "red",
      },
      {
        id: "blue",
        label: "blue",
      },
      {
        id: "orange",
        label: "orange",
      },
      {
        id: "green",
        label: "green",
      },
      {
        id: "black",
        label: "black",
      },
      {
        id: "white",
        label: "white",
      },
    ],
    quantity: 693,
  },
  {
    id: 7,
    name: "Sản phẩm 2",
    price: 200000,
    description: "Sản phẩm 2",
    image: "https://picsum.photos/200/300/?random=2",
    category: "Electronics",
    rating: "4.5",
    category: [
      {
        id: "red",
        label: "red",
      },
      {
        id: "blue",
        label: "blue",
      },
      {
        id: "orange",
        label: "orange",
      },
      {
        id: "green",
        label: "green",
      },
      {
        id: "black",
        label: "black",
      },
      {
        id: "white",
        label: "white",
      },
    ],
    quantity: 1245,
  },
  {
    id: 8,
    name: "Sản phẩm 3",
    price: 300000,
    description: "Sản phẩm 3",
    image: "https://picsum.photos/200/300/?random=3",
    category: "Electronics",
    rating: "4.5",
    category: [
      {
        id: "red",
        label: "red",
      },
      {
        id: "blue",
        label: "blue",
      },
      {
        id: "orange",
        label: "orange",
      },
      {
        id: "green",
        label: "green",
      },
      {
        id: "black",
        label: "black",
      },
      {
        id: "white",
        label: "white",
      },
    ],
    quantity: 3121,
  },
  {
    id: 9,
    name: "Sản phẩm 4",
    price: 400000,
    description: "Sản phẩm 4",
    image: "https://picsum.photos/200/300/?random=4",
    category: "Electronics",
    rating: "4.5",
    category: [
      {
        id: "red",
        label: "red",
      },
      {
        id: "blue",
        label: "blue",
      },
      {
        id: "orange",
        label: "orange",
      },
      {
        id: "green",
        label: "green",
      },
      {
        id: "black",
        label: "black",
      },
      {
        id: "white",
        label: "white",
      },
    ],
    quantity: 6144,
  },
  {
    id: 10,
    name: "Sản phẩm 5",
    price: 500000,
    description: "Sản phẩm 5",
    image: "https://picsum.photos/200/300/?random=5",
    category: "Electronics",
    rating: "4.5",
    category: [
      {
        id: "red",
        label: "red",
      },
      {
        id: "blue",
        label: "blue",
      },
      {
        id: "orange",
        label: "orange",
      },
      {
        id: "green",
        label: "green",
      },
      {
        id: "black",
        label: "black",
      },
      {
        id: "white",
        label: "white",
      },
    ],
    quantity: 7231,
  },
  {
    id: 11,
    name: "Sản phẩm 1",
    price: 100000,
    description: "Sản phẩm 1",
    image: "https://picsum.photos/200/300/?random=1",
    category: "Electronics",
    rating: "4.5",
    category: [
      {
        id: "red",
        label: "red",
      },
      {
        id: "blue",
        label: "blue",
      },
      {
        id: "orange",
        label: "orange",
      },
      {
        id: "green",
        label: "green",
      },
      {
        id: "black",
        label: "black",
      },
      {
        id: "white",
        label: "white",
      },
    ],
    quantity: 1843,
  },
  {
    id: 12,
    name: "Sản phẩm 2",
    price: 200000,
    description: "Sản phẩm 2",
    image: "https://picsum.photos/200/300/?random=2",
    category: "Electronics",
    rating: "4.5",
    category: [
      {
        id: "red",
        label: "red",
      },
      {
        id: "blue",
        label: "blue",
      },
      {
        id: "orange",
        label: "orange",
      },
      {
        id: "green",
        label: "green",
      },
      {
        id: "black",
        label: "black",
      },
      {
        id: "white",
        label: "white",
      },
    ],
    quantity: 8633,
  },
  // {
  //   id: 13,
  //   name: "Sản phẩm 3",
  //   price: 300000,
  //   description: "Sản phẩm 3",
  //   image: "https://picsum.photos/200/300/?random=3",
  //   category: "Electronics",
  //   rating: "4.5",

  // },
  // {
  //   id: 14,
  //   name: "Sản phẩm 4",
  //   price: 400000,
  //   description: "product 4",
  //   image: "https://picsum.photos/200/300/?random=4",
  //   category: "Electronics",
  //   rating: "4.5",

  // },
  // {
  //   id: 15,
  //   name: "prod5",
  //   price: 500000,
  //   description: "product 5",
  //   image: "https://picsum.photos/200/300/?random=5",
  //   category: "Electronics",
  //   rating: "4.5",

  // },
  // {
  //   id: 16,
  //   name: "prod1",
  //   price: 100000,
  //   description: "product 1",
  //   image: "https://picsum.photos/200/300/?random=1",
  //   category: "Electronics",
  //   rating: "4.5",

  // },
  // {
  //   id: 17,
  //   name: "prod2",
  //   price: 200000,
  //   description: "product 2",
  //   image: "https://picsum.photos/200/300/?random=2",
  //   category: "Electronics",
  //   rating: "4.5",

  // },
  // {
  //   id: 18,
  //   name: "prod3",
  //   price: 300000,
  //   description: "product 3",
  //   image: "https://picsum.photos/200/300/?random=3",
  //   category: "Electronics",
  //   rating: "4.5",

  // },
  // {
  //   id: 19,
  //   name: "prod4",
  //   price: 400000,
  //   description: "product 4",
  //   image: "https://picsum.photos/200/300/?random=4",
  //   category: "Electronics",
  //   rating: "4.5",

  // },
  // {
  //   id: 20,
  //   name: "prod5",
  //   price: 500000,
  //   description: "product 5",
  //   image: "https://picsum.photos/200/300/?random=5",
  //   category: "Electronics",
  //   rating: "4.5",

  // },
  // {
  //   id: 21,
  //   name: "prod1",
  //   price: 100000,
  //   description: "product 1",
  //   image: "https://picsum.photos/200/300/?random=1",
  //   category: "Electronics",
  //   rating: "4.5",

  // },
  // {
  //   id: 22,
  //   name: "prod2",
  //   price: 200000,
  //   description: "product 2",
  //   image: "https://picsum.photos/200/300/?random=2",
  //   category: "Electronics",
  //   rating: "4.5",

  // },
  // {
  //   id: 23,
  //   name: "prod3",
  //   price: 300000,
  //   description: "product 3",
  //   image: "https://picsum.photos/200/300/?random=3",
  //   category: "Electronics",
  //   rating: "4.5",

  // },
  // {
  //   id: 24,
  //   name: "prod4",
  //   price: 400000,
  //   description: "product 4",
  //   image: "https://picsum.photos/200/300/?random=4",
  //   category: "Electronics",
  //   rating: "4.5",

  // },
  // {
  //   id: 25,
  //   name: "prod5",
  //   price: 500000,
  //   description: "product 5",
  //   image: "https://picsum.photos/200/300/?random=5",
  //   category: "Electronics",
  //   rating: "4.5",

  // },
  // {
  //   id: 26,
  //   name: "prod1",
  //   price: 100000,
  //   description: "product 1",
  //   image: "https://picsum.photos/200/300/?random=1",
  //   category: "Electronics",
  //   rating: "4.5",

  // },
  // {
  //   id: 27,
  //   name: "prod2",
  //   price: 200000,
  //   description: "product 2",
  //   image: "https://picsum.photos/200/300/?random=2",
  //   category: "Electronics",
  //   rating: "4.5",

  // },
  // {
  //   id: 28,
  //   name: "prod3",
  //   price: 300000,
  //   description: "product 3",
  //   image: "https://picsum.photos/200/300/?random=3",
  //   category: "Electronics",
  //   rating: "4.5",

  // },
  // {
  //   id: 29,
  //   name: "prod4",
  //   price: 400000,
  //   description: "product 4",
  //   image: "https://picsum.photos/200/300/?random=4",
  //   category: "Electronics",
  //   rating: "4.5",

  // },
  // {
  //   id: 30,
  //   name: "prod5",
  //   price: 500000,
  //   description: "product 5",
  //   image: "https://picsum.photos/200/300/?random=5",
  //   category: "Electronics",
  //   rating: "4.5",

  // },
];

const handleSearch = () => {
  const search = document.querySelector("#searchInput").value;

  window.localStorage.setItem("searchValue", search);
  window.location.replace("/pages/search.html");
};

const productDetail = document.querySelector("#productDetail");

const productId = window.localStorage.getItem("productId");

console.log(productId);
const product =
  dataProduct.find((product) => product.id == productId) || dataProduct[0];

const renderRating = (rating) => {
  let star = "";
  for (let i = 1; i < rating; i++) {
    star += '<i class="fas fa-star" style = "color:#f2ce1b"></i>';
  }
  if (rating % 1 !== 0) {
    star += '<i class="fas fa-star-half-alt" style = "color:#f2ce1b"></i>';
  } else {
    star += '<i class="far fa-star" style = "color:#f2ce1b"></i>';
  }
  return star;
};

const renderCategory = (categories) => {
  let result = "";
  categories.map((category) => {
    result += `
    <div class = 'col border m-2' style="width:30px;height:30px;background:${category.label}; cursor:pointer" onclick = {alert('${category.label}')}>
    </div>
    `;
  });
  return result;
};

const renderSelectCategory = (categories) => {
  let result = "";
  categories.map((category) => {
    result += `
    <option value = '${category.label}'>${category.label}</option>
    `;
  });
  return result;
};
productDetail.innerHTML = `
<div>
    <h3>${product.name}</h3>
    ${renderRating(product.rating)}
    <p>${product.description}</p>
    <p>${product.price.toLocaleString()}đ</p>
    <div class="row" style="max-width:150px; margin:0; margin-left:-0.5rem">
      ${renderCategory(product.category)}
    </div>
    <div class = "d-flex justify-content-start align-items-center">
      <select class = "" style = "padding:7px">
       ${renderSelectCategory(product.category)}
      </select>
      <div class = " text-center mx-3">
        <button class = "btn btn-outline-primary">Thêm vào giỏ hàng</button>
      </div>
      <div class = " text-center">
      <button class = "btn btn-primary">Mua ngay</button>
    </div>
    </div>
</div>
`;

const mota = document.querySelector(".mota");
const ttct = document.querySelector(".thongtinchitiet");
const danhgia = document.querySelector(".danhgia");

(function renderMota() {
  let content = "";
  content += `<h3 class = "mt-4">${product.name}</h3>`;
  content += `<p>${product.description}</p>`;
  content += `<img src = "${product.image}" alt = "" style = "width:509px; height:509px"/>`;
  content += `<p class ="mt-2">Đánh giá: ${product.rating}/5</p>`;

  mota.innerHTML = content;
})();
(function renderTtct() {
  let content = "";
  content += `<h3 class = "mt-4">${product.name}</h3>`;
  content += `<p>${product.description}</p>`;
  content += `<img src = "https://file.hstatic.net/1000006063/file/5400_1c8b67b3b61a46a79589beae275d95ee_2048x2048.jpg" alt = "" style = "width:509px; height:509px"/>`;
  content += `<p class ="mt-2">Đánh giá: ${product.rating}/5</p>`;
  content += `<p>Giá: ${product.price}</p>`;
  content += `<p>Phấn nước Gilaa Long Wear DD Cushion là phấn nước của thương hiệu Gilaa với công dụng đa chức năng như dưỡng trắng, cấp ẩm, chống nắng và chống lão hóa và chứa chiết xuất nhụy hoa nghệ tây và gấp 3 lần dưỡng chất dưỡng da hiệu quả cho lớp nền trang điểm mỏng mịn hoàn hảo </p>`;
  ttct.innerHTML = content;
})();
const renderComment = () => {
  let content = "";
  for (let i = 0; i < 5; i++) {
    content += `
    <div class = 'd-flex justify-content-between mt-3'>
      <div>
        <img src = "https://picsum.photos/200/300/?random=${i}" alt = "" style = "width:50px; height:50px; border-radius:50%; margin-right:2rem"/>
      </div>
      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Assumenda quod repellat, voluptatum mollitia, fugit totam et ab inventore consequuntur saepe doloremque numquam reiciendis ducimus nisi. Possimus quis nostrum eveniet consectetur!</p>
    </div>
    `;
  }
  return content;
};
(function renderDanhGia() {
  let content = "";

  content += `
  <div class = 'mt-4'>
    <div class = 'd-flex'>
      <input type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Nhận xét">
      <button class = "btn btn-primary ml-3">Gửi</button>
    </div>
    ${renderComment()}
  </div>`;

  danhgia.innerHTML = content;
})();
